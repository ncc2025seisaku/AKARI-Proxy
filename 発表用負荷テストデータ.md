# 発表用負荷テストデータ（デモサーバー: 127.0.0.1, v2+Brotli応答, 非同期デフォルト）
- 実行コマンド: `uv run --python 3.11 python loadtest/disaster_suite.py --demo-server --no-event-log --host 127.0.0.1 --port 0`
- すべてローカルで実行。詳細ログ: `logs/disaster_suite_summary.json`, `logs/disaster_suite_history.jsonl`

## シナリオ別結果（成功/総リクエスト, timeout数, 平均応答時間）
- ベースライン: 80/80 成功, timeout 0, 平均0.004s
- 遅延3000ms+ロス20%: 159/200 成功, timeout 41, 平均0.155s
- ジッター350ms相当: 200/200 成功, timeout 0, 平均0.176s
- ロス25%: 167/220 成功, timeout 53, 平均0.006s
- バースト高並列: 759/800 成功, timeout 41, 平均0.008s
- 中負荷持続: 400/400 成功, timeout 0, 平均0.042s
- 断続ドロップ: 116/150 成功, timeout 34, 平均0.003s
- 強フラップ: 177/200 成功, timeout 23, 平均0.005s
- フラップ緩和（再送強化）: 178/200 成功, timeout 22, 平均0.005s
- MTU揺れ近似: 231/240 成功, timeout 9, 平均0.028s
- 巨大レスポンス10MB: Brotli圧縮+チャンクで 4/10 成功, timeout 6, 平均0.344s
- 3000本相当ロード: 2945/3000 成功, timeout 55, 平均0.040s

## ひとこと
- タイムアウトを広げつつ、先頭チャンク冗長化と大容量向けパリティONでフラップ/高ロスも粘るよう調整。まだ巨大レスポンスは厳しめで、さらなる再送間隔・タイムアウト微調整余地あり。
- NACK連打は抑制済み。非同期サーバーで同時処理を保ち、環境に合わせて`AKARI_HEAD_DUP_COUNT`や`AKARI_LARGE_BODY_THRESHOLD`で冗長度を増減可能。
- バースト/多並列は高速。成功数とtimeoutのバランスは設定で調整しつつ、災害時の「最低限動く」水準を目指す。
